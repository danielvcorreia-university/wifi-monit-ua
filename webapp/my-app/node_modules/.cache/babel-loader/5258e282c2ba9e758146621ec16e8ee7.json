{"ast":null,"code":"var _jsxFileName = \"/home/eduardoluis33/Desktop/PEI/wifi-monit-ua/webapp/my-app/src/components/Map.js\";\nimport React, { useState, useEffect } from 'react';\nimport ReactMapGL, { NavigationControl, Marker, Source, Layer, Popup } from \"react-map-gl\";\nimport { Button, IconButton, Slider, Typography } from '@material-ui/core';\nimport { Link } from \"react-router-dom\";\nimport depLoc from \"../JSON/depLoc.json\";\nimport ApartmentIcon from '@material-ui/icons/Apartment';\nexport default function Map() {\n  const [viewport, setViewport] = useState({\n    latitude: 40.629620,\n    longitude: -8.657000,\n    zoom: 16,\n    width: \"99.5vw\",\n    height: \"94vh\",\n    bearing: 275\n  });\n  const settings = {\n    minZoom: 16\n  };\n  const maxHourValue = 12;\n  const [selectDep, setSelectDep] = useState(null);\n  const [highlight, setHighlight] = useState(false);\n  const [selectHour, setSelectHour] = useState(null);\n\n  const handleChange = (event, newValue) => {\n    setSelectHour(newValue);\n    const currentTime = new Date();\n    const newHour = currentTime.getHours() + newValue - maxHourValue;\n    currentTime.setHours(newHour);\n    const current = currentTime.getTime();\n    console.log(currentTime);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ReactMapGL, Object.assign({}, viewport, settings, {\n    mapboxApiAccessToken: process.env.REACT_APP_MAPBOX_TOKEN,\n    onViewportChange: viewport => {\n      setViewport(viewport);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: 'absolute',\n      right: 10,\n      top: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(NavigationControl, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  })), depLoc.departments.map(department => /*#__PURE__*/React.createElement(Marker, {\n    key: department.DEP_NUMBER,\n    latitude: department.coordinates[0],\n    longitude: department.coordinates[1],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: {\n      pathname: '/department',\n      state: {\n        depNum: department.DEP_NUMBER\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    color: \"primary\",\n    \"aria-label\": \"dep\",\n    size: \"small\",\n    onMouseEnter: () => {\n      setHighlight(true);\n      setSelectDep(department);\n    },\n    onMouseLeave: () => setHighlight(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ApartmentIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }))))), highlight && /*#__PURE__*/React.createElement(Popup, {\n    latitude: selectDep.coordinates[0],\n    longitude: selectDep.coordinates[1],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, selectDep.DEP_NUMBER, \" - \", selectDep.DEP_NOME)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"slider\",\n    style: {\n      position: 'absolute',\n      right: 20,\n      bottom: 30,\n      width: 250,\n      height: 75,\n      background: '#fff',\n      padding: 12,\n      'border-radius': 25\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    id: \"discrete-slider\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, \"Tempo\"), /*#__PURE__*/React.createElement(Slider, {\n    defaultValue: 12,\n    \"aria-labelledby\": \"discrete-slider\",\n    valueLabelDisplay: \"auto\",\n    step: 1,\n    marks: true,\n    min: 0,\n    max: maxHourValue,\n    scale: x => -(maxHourValue - x) // the scale is dependent on the maximum value\n    ,\n    track: \"inverted\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["/home/eduardoluis33/Desktop/PEI/wifi-monit-ua/webapp/my-app/src/components/Map.js"],"names":["React","useState","useEffect","ReactMapGL","NavigationControl","Marker","Source","Layer","Popup","Button","IconButton","Slider","Typography","Link","depLoc","ApartmentIcon","Map","viewport","setViewport","latitude","longitude","zoom","width","height","bearing","settings","minZoom","maxHourValue","selectDep","setSelectDep","highlight","setHighlight","selectHour","setSelectHour","handleChange","event","newValue","currentTime","Date","newHour","getHours","setHours","current","getTime","console","log","process","env","REACT_APP_MAPBOX_TOKEN","position","right","top","departments","map","department","DEP_NUMBER","coordinates","pathname","state","depNum","DEP_NOME","bottom","background","padding","x"],"mappings":"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","sourcesContent":["import React, { useState, useEffect} from 'react';\nimport ReactMapGL, {NavigationControl, Marker, Source, Layer, Popup} from \"react-map-gl\";\nimport { Button, IconButton, Slider, Typography } from '@material-ui/core';\nimport { Link } from \"react-router-dom\";\nimport depLoc from \"../JSON/depLoc.json\";\nimport ApartmentIcon from '@material-ui/icons/Apartment';\n\nexport default function Map() {\n  \n\n  const [viewport, setViewport] = useState({\n    latitude: 40.629620,\n    longitude: -8.657000,\n    zoom: 16,\n    width: \"99.5vw\",\n    height: \"94vh\",\n    bearing: 275\n  });\n  \n  const settings = {\n    minZoom: 16\n  }\n  const maxHourValue = 12;\n\n  const [selectDep, setSelectDep] = useState(null);\n  const [highlight, setHighlight] = useState(false);\n  const [selectHour, setSelectHour] = useState(null);\n\n  const handleChange = (event, newValue) => {\n    setSelectHour(newValue);\n    const currentTime = new Date();\n    const newHour = currentTime.getHours() + newValue - maxHourValue;\n    currentTime.setHours(newHour);\n    const current = currentTime.getTime();\n    console.log(currentTime);\n  };\n\n  return (\n    <div>\n    <ReactMapGL\n      {...viewport}\n      {...settings}\n      mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\n      onViewportChange={viewport => {setViewport(viewport)}}\n    >\n    {/*    Layers de destaque dos departamentos não tão a funcionar por alguma razão  \n      <Source id=\"dep\" type=\"geojson\" data={geojson}>\n          <Layer id=\"depHighlight\"{...highlightLayer} />\n      </Source>\n    */}\n      <div style={{position: 'absolute', right: 10, top: 10}}>\n          <NavigationControl />\n      </div>\n\n      \n\n      {depLoc.departments.map(department => (\n        <Marker key={department.DEP_NUMBER} latitude={department.coordinates[0]} longitude={department.coordinates[1]}>\n          <Link to={{\n                    pathname:'/department',\n                    state:{\n                        depNum: department.DEP_NUMBER\n                    }\n                  }}>\n            <IconButton color=\"primary\" aria-label=\"dep\" size=\"small\" onMouseEnter={() => {setHighlight(true); setSelectDep(department)}} onMouseLeave={() => setHighlight(false)}>\n              <ApartmentIcon />\n            </IconButton>\n          </Link>\n        </Marker>\n      ))}\n      {highlight && (\n        <Popup latitude={selectDep.coordinates[0]} longitude={selectDep.coordinates[1]}>\n          <div>\n            <h1>{selectDep.DEP_NUMBER} - {selectDep.DEP_NOME}</h1>\n          </div>\n        </Popup>\n      )}\n      \n    </ReactMapGL>\n    <div className=\"slider\" style={{position:'absolute', right: 20, bottom: 30, width: 250, height: 75, background: '#fff', padding: 12, 'border-radius': 25}}>\n        <Typography id=\"discrete-slider\" gutterBottom>\n          Tempo\n        </Typography>\n        <Slider\n          defaultValue={12}\n          aria-labelledby=\"discrete-slider\"\n          valueLabelDisplay=\"auto\"\n          step={1}\n          marks={true}\n          min={0}\n          max={maxHourValue}\n          scale={(x) => -(maxHourValue - x)}        // the scale is dependent on the maximum value\n          track='inverted'\n          onChange={handleChange}\n        />\n      </div>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}